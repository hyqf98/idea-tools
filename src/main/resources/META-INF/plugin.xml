<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <!-- Unique identifier of the plugin. It should be FQN. It cannot be changed between the plugin versions. -->
    <id>io.github.easy.tools</id>

    <!-- Public plugin name should be written in Title Case.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-name -->
    <name>Idea Tools</name>

    <!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. -->
    <vendor url="https://github.com/easy-tools">Easy Tools</vendor>

    <!-- Description of the plugin displayed on the Plugin Page and IDE Plugin Manager.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-description -->
    <description><![CDATA[
      Easy Tools for IntelliJ IDEA - Enhancing Java development with powerful documentation capabilities.<br/>
      Features include:<br/>
      - Customizable JavaDoc templates (class, field, method)<br/>
      - Context menu actions for generating/removing comments<br/>
      - Velocity template engine support<br/>
      - Extensible architecture for future enhancements<br/>
      - Property name conversion utilities<br/>
    ]]></description>

    <!-- Product and plugin compatibility requirements. -->
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.java</depends>

    <!-- Plugin metadata -->
    <change-notes><![CDATA[
    Added property name conversion functionality:<br/>
    - Convert selected property names between different formats<br/>
    - Context menu action for property conversion<br/>
    - Keyboard shortcut support (Ctrl+Shift+U)<br/>
    ]]></change-notes>

    <extensions defaultExtensionNs="com.intellij">
        <applicationService serviceImplementation="io.github.easy.tools.ui.config.DocConfigService"/>
        <applicationConfigurable
                parentId="other"
                instance="io.github.easy.tools.ui.config.DocConfig"
                id="io.github.easy.tools.ui.config.TemplateConfig"
                displayName="Easy Config">
            <configurable instance="io.github.easy.tools.ui.config.DocConfig" id="io.github.easy.tools.ui.config.BaseTemplateConfig" displayName="Base Template"/>
            <configurable instance="io.github.easy.tools.ui.config.LLMConfig" id="io.github.easy.tools.ui.config.LLMConfig" displayName="LLM Config"/>
        </applicationConfigurable>
        <applicationService serviceImplementation="io.github.easy.tools.action.doc.listener.FileSaveListenerManager"/>
        <notificationGroup id="Easy Docs Notification Group"
                           displayType="BALLOON"
                           key="notification.group.name"/>
    </extensions>

    <applicationListeners>
        <listener class="io.github.easy.tools.action.doc.listener.FileSaveListenerManager"
                  topic="com.intellij.ide.AppLifecycleListener"/>
    </applicationListeners>

    <actions>
        <group id="JavaDocMenus" popup="true" description="Java Doc" text="Java Doc">
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
            <action id="GenerateFileCommentAction"
                    class="io.github.easy.tools.action.doc.actions.GenerateFileCommentAction"
                    text="当前文件生成注释"
                    description="当前文件生成注释">
                <keyboard-shortcut keymap="$default" first-keystroke="alt shift J"/>
            </action>
            <action id="GenerateElementCommentAction"
                    class="io.github.easy.tools.action.doc.actions.GenerateElementCommentAction"
                    text="当前元素生成注释"
                    description="当前元素生成注释">
                <keyboard-shortcut keymap="$default" first-keystroke="alt J"/>
            </action>
            <action id="RemoveElementCommentsAction"
                    class="io.github.easy.tools.action.doc.actions.RemoveElementCommentsAction"
                    text="删除当前元素注释"
                    description="删除当前元素注释"/>
            <action id="RemoveFileCommentsAction"
                    class="io.github.easy.tools.action.doc.actions.RemoveFileCommentsAction"
                    text="删除当前文件注释"
                    description="删除当前文件注释"/>
        </group>
        
        <group id="PropertyConversionGroup" text="属性转换" description="Property Conversion">
            <add-to-group group-id="EditorPopupMenu" anchor="after" relative-to-action="JavaDocMenus"/>
            <action id="PropertyConversionAction"
                    class="io.github.easy.tools.action.conversion.PropertyConversionAction"
                    text="转换选中属性"
                    description="将选中的属性名转换为不同格式">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl shift U"/>
            </action>
        </group>
    </actions>
</idea-plugin>